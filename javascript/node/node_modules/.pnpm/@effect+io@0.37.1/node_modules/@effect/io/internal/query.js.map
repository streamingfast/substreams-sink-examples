{"version":3,"file":"query.js","names":["_Duration","require","_Function","_Global","BlockedRequests","_interopRequireWildcard","_cache","_cause","core","_fiberRuntime","_request","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","currentCache","fiberRefUnsafeMake","unsafeMakeWith","map","deferredMake","handle","listeners","Listeners","seconds","exports","currentCacheEnabled","globalValue","Symbol","for","fromRequest","request","dataSource","flatMap","isEffect","succeed","ds","fiberIdWith","id","proxy","Proxy","fiberRefGetWith","cacheEnabled","getEither","orNew","_tag","left","increment","blocked","empty","exit","deferredAwait","isInterruptedOnly","cause","decrement","invalidateWhen","entry","ensuring","sync","right","single","makeEntry","result","ownerId","state","completed","uninterruptibleMask","restore","ref","cacheRequest","unit","deferredComplete","withRequestCaching","dual","self","strategy","fiberRefLocally","withRequestCache"],"sources":["../src/internal/query.ts"],"sourcesContent":[null],"mappings":"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"}