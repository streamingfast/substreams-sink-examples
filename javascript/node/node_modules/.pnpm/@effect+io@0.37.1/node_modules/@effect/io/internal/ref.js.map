{"version":3,"file":"ref.js","names":["_Function","require","MutableRef","_interopRequireWildcard","Option","_Pipeable","core","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","RefTypeId","Symbol","for","exports","refVariance","_A","_","RefImpl","constructor","ref","_a","modify","f","sync","current","b","a","pipe","pipeArguments","arguments","unsafeMake","value","make","self","dual","getAndSet","getAndUpdate","getAndUpdateSome","pf","option","_tag","setAndGet","modifySome","fallback","update","updateAndGet","result","updateSome","match","onNone","onSome","updateSomeAndGet","unsafeGet"],"sources":["../src/internal/ref.ts"],"sourcesContent":[null],"mappings":"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"}