{"version":3,"file":"ref.mjs","names":["dual","MutableRef","Option","pipeArguments","core","RefTypeId","Symbol","for","refVariance","_A","_","RefImpl","constructor","ref","_a","modify","f","sync","current","get","b","a","set","pipe","arguments","unsafeMake","value","make","self","getAndSet","getAndUpdate","getAndUpdateSome","pf","option","_tag","setAndGet","modifySome","fallback","update","updateAndGet","result","updateSome","match","onNone","onSome","updateSomeAndGet","unsafeGet"],"sources":["../../src/internal/ref.ts"],"sourcesContent":[null],"mappings":"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"}