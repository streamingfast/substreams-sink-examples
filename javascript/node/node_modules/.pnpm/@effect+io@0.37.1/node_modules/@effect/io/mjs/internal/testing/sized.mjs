var _a;
import * as Context from "@effect/data/Context";
import * as core from "@effect/io/internal/core";
/** @internal */
export const SizedTypeId = /*#__PURE__*/Symbol.for("@effect/test/Sized");
/** @internal */
export const Sized = /*#__PURE__*/Context.Tag(SizedTypeId);
/** @internal */
class SizedImpl {
  constructor(fiberRef) {
    this.fiberRef = fiberRef;
    this[_a] = SizedTypeId;
  }
  size() {
    return core.fiberRefGet(this.fiberRef);
  }
  withSize(size) {
    return effect => core.fiberRefLocally(this.fiberRef, size)(effect);
  }
}
_a = SizedTypeId;
/** @internal */
export const make = size => new SizedImpl(core.fiberRefUnsafeMake(size));
/** @internal */
export const fromFiberRef = fiberRef => new SizedImpl(fiberRef);
//# sourceMappingURL=sized.mjs.map