{"version":3,"file":"query.mjs","names":["seconds","dual","globalValue","BlockedRequests","unsafeMakeWith","isInterruptedOnly","core","ensuring","Listeners","currentCache","fiberRefUnsafeMake","map","deferredMake","handle","listeners","currentCacheEnabled","Symbol","for","fromRequest","request","dataSource","flatMap","isEffect","succeed","ds","fiberIdWith","id","proxy","Proxy","fiberRefGetWith","cacheEnabled","cache","getEither","orNew","_tag","left","increment","blocked","empty","exit","deferredAwait","cause","decrement","invalidateWhen","entry","sync","right","single","makeEntry","result","ownerId","state","completed","uninterruptibleMask","restore","ref","cacheRequest","unit","deferredComplete","withRequestCaching","self","strategy","fiberRefLocally","withRequestCache"],"sources":["../../src/internal/query.ts"],"sourcesContent":[null],"mappings":"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"}