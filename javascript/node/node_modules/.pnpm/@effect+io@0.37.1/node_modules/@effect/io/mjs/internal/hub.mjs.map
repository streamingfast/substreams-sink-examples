{"version":3,"file":"hub.mjs","names":["Chunk","dual","MutableQueue","MutableRef","pipeArguments","cause","core","executionStrategy","fiberRuntime","queue","addSubscribers","subscription","pollers","subscribers","has","set","Set","get","add","removeSubscribers","delete","size","bounded","requestedCapacity","flatMap","atomicHub","makeHub","BackPressureStrategy","sync","makeBoundedHub","dropping","DroppingStrategy","sliding","SlidingStrategy","unbounded","makeUnboundedHub","capacity","self","isFull","isEmpty","shutdown","isShutdown","awaitShutdown","publish","value","publishAll","elements","subscribe","ensureCapacity","BoundedHubSingle","nextPow2","BoundedHubPow2","BoundedHubArb","UnboundedHub","makeSubscription","hub","strategy","map","deferredMake","deferred","unsafeMakeSubscription","make","shutdownHook","shutdownFlag","SubscriptionImpl","constructor","publisherIndex","subscriberCount","subscribersIndex","array","Array","from","length","index","chunk","fromIterable","n","available","forHub","Math","min","iteratorIndex","publishAllIndex","a","unsafeGet","drop","slide","BoundedHubArbSubscription","subscriberIndex","unsubscribed","max","poll","default_","elem","pollUpTo","empty","toPoll","builder","pollUpToIndex","push","unsubscribe","mask","BoundedHubPow2Subscription","pipe","arguments","unsafeHead","BoundedHubSingleSubscription","of","Node","next","publisherHead","Number","MAX_SAFE_INTEGER","publisherTail","UnboundedHubSubscription","subscriberHead","loop","polled","i","_a","dequeueVariance","isActive","suspend","interrupt","succeed","uninterruptible","withFiberRuntime","state","asUnit","whenEffect","deferredSucceed","zipRight","unsafeOnHubEmptySpace","forEachParUnbounded","unsafePollAllQueue","d","deferredInterruptWith","id","deferredAwait","take","message","EmptyMutableQueue","deferredUnsafeMake","onInterrupt","unsafeRemove","offer","unsafeCompletePollers","takeAll","as","unsafePollAllSubscription","takeUpTo","unsafePollN","takeBetween","takeRemainderLoop","DequeueTypeId","acc","bs","remaining","b","append","appendAll","HubImpl","scope","_b","enqueueVariance","close","exitInterrupt","unsafeCompleteSubscribers","handleSurplus","unsafeOffer","surplus","unsafePublishAll","acquire","tap","all","fork","sequential","tuple","addFinalizer","acquireRelease","exit","offerAll","EnqueueTypeId","scopeMake","unsafeMakeHub","Map","nextPow","ceil","log","pow","InvalidHubCapacityException","unsafeCompleteDeferred","deferredUnsafeDone","unsafeOfferAll","POSITIVE_INFINITY","filter","publishers","fiberId","forEachParUnboundedDiscard","_","last","unit","keepPolling","publisher","published","prepend","unsafeStrategyCompletePollers","unsafeStrategyCompleteSubscribers","iterator","Symbol","done","_hub","_subscribers","_elements","_isShutdown","unsafeSlidingPublish","it","pub","poller","pollResult","pollersSet"],"sources":["../../src/internal/hub.ts"],"sourcesContent":[null],"mappings":"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"}