{"version":3,"file":"queue.js","names":["Chunk","_interopRequireWildcard","require","_Function","MutableQueue","MutableRef","_Pipeable","ReadonlyArray","core","fiberRuntime","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","EnqueueSymbolKey","EnqueueTypeId","Symbol","for","exports","DequeueSymbolKey","DequeueTypeId","QueueStrategySymbolKey","QueueStrategyTypeId","queueStrategyVariance","_A","_","enqueueVariance","_In","dequeueVariance","_Out","QueueImpl","constructor","queue","takers","shutdownHook","shutdownFlag","strategy","_a","_b","pipe","pipeArguments","arguments","capacity","size","suspend","interrupt","succeed","length","surplusSize","isEmpty","map","isFull","shutdown","uninterruptible","withFiberRuntime","state","asUnit","whenEffect","deferredSucceed","zipRight","forEachParUnboundedDiscard","unsafePollAll","d","deferredInterruptWith","id","isShutdown","sync","awaitShutdown","deferredAwait","isActive","unsafeOffer","value","noRemaining","taker","poll","EmptyMutableQueue","unsafeCompleteDeferred","succeeded","offer","unsafeCompleteTakers","handleSurplus","offerAll","iterable","values","fromIterable","pTakers","unsafePollN","empty","forTakers","remaining","splitAt","i","item","surplus","unsafeOfferAll","take","unsafeOnQueueEmptySpace","deferred","deferredUnsafeMake","onInterrupt","unsafeRemove","takeAll","takeUpTo","max","takeBetween","min","takeRemainderLoop","self","acc","flatMap","bs","b","append","appendAll","isQueue","u","isEnqueue","isDequeue","bounded","requestedCapacity","make","backPressureStrategy","dropping","droppingStrategy","sliding","slidingStrategy","unbounded","unsafeMake","deferredMake","dual","head","takeN","n","BackPressureStrategy","DroppingStrategy","SlidingStrategy","_c","putters","fiberId","isLastItem","unit","keepPolling","putter","offered","prepend","iterator","next","done","filter","_d","_iterable","_queue","_takers","_isShutdown","_e","offering","a","deferredUnsafeDone","as","pollUpTo","Number","POSITIVE_INFINITY","element"],"sources":["../src/internal/queue.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,KAAA,gBAAAC,uBAAA,eAAAC,OAAA;AACA,IAAAC,SAAA,gBAAAD,OAAA;AACA,IAAAE,YAAA,gBAAAH,uBAAA,eAAAC,OAAA;AACA,IAAAG,UAAA,gBAAAJ,uBAAA,eAAAC,OAAA;AAEA,IAAAI,SAAA,gBAAAJ,OAAA;AACA,IAAAK,aAAA,gBAAAN,uBAAA,eAAAC,OAAA;AAGA,IAAAM,IAAA,gBAAAP,uBAAA,eAAAC,OAAA;AACA,IAAAO,YAAA,gBAAAR,uBAAA,eAAAC,OAAA;AAAgE,SAAAQ,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAV,wBAAAc,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;;AAGhE;AACA,MAAMW,gBAAgB,GAAG,0BAA0B;AAEnD;AACO,MAAMC,aAAa,gBAAwBC,MAAM,CAACC,GAAG,CAACH,gBAAgB,CAAwB;AAErG;AAAAI,OAAA,CAAAH,aAAA,GAAAA,aAAA;AACA,MAAMI,gBAAgB,GAAG,0BAA0B;AAEnD;AACO,MAAMC,aAAa,gBAAwBJ,MAAM,CAACC,GAAG,CAACE,gBAAgB,CAAwB;AAErG;AAAAD,OAAA,CAAAE,aAAA,GAAAA,aAAA;AACA,MAAMC,sBAAsB,GAAG,2BAA2B;AAE1D;AACO,MAAMC,mBAAmB,gBAA8BN,MAAM,CAACC,GAAG,CACtEI,sBAAsB,CACM;AAE9B;AAAAH,OAAA,CAAAI,mBAAA,GAAAA,mBAAA;AACA,MAAMC,qBAAqB,GAAG;EAC5BC,EAAE,EAAGC,CAAQ,IAAKA;CACnB;AAED;AACO,MAAMC,eAAe,GAAG;EAC7BC,GAAG,EAAGF,CAAU,IAAKA;CACtB;AAED;AAAAP,OAAA,CAAAQ,eAAA,GAAAA,eAAA;AACO,MAAME,eAAe,GAAG;EAC7BC,IAAI,EAAGJ,CAAQ,IAAKA;CACrB;AAED;AAAAP,OAAA,CAAAU,eAAA,GAAAA,eAAA;AACA,MAAME,SAAS;EAIbC,YAAA,CACE;EACSC,KAAmC,EAC5C;EACSC,MAA8D,EACvE;EACSC,YAA4C,EACrD;EACSC,YAA4C,EACrD;EACSC,QAA2B;IAR3B,KAAAJ,KAAK,GAALA,KAAK;IAEL,KAAAC,MAAM,GAANA,MAAM;IAEN,KAAAC,YAAY,GAAZA,YAAY;IAEZ,KAAAC,YAAY,GAAZA,YAAY;IAEZ,KAAAC,QAAQ,GAARA,QAAQ;IAbV,KAAAC,EAAA,CAAe,GAAGX,eAAe;IACjC,KAAAY,EAAA,CAAe,GAAGV,eAAe;EAc1C;EAEAW,IAAIA,CAAA;IACF,OAAO,IAAAC,uBAAa,EAAC,IAAI,EAAEC,SAAS,CAAC;EACvC;EAEAC,QAAQA,CAAA;IACN,OAAOxD,YAAY,CAACwD,QAAQ,CAAC,IAAI,CAACV,KAAK,CAAC;EAC1C;EAEAW,IAAIA,CAAA;IACF,OAAOrD,IAAI,CAACsD,OAAO,CAAC,MAClBzD,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC,GAC7B7C,IAAI,CAACuD,SAAS,GACdvD,IAAI,CAACwD,OAAO,CACZ5D,YAAY,CAAC6D,MAAM,CAAC,IAAI,CAACf,KAAK,CAAC,GAC7B9C,YAAY,CAAC6D,MAAM,CAAC,IAAI,CAACd,MAAM,CAAC,GAChC,IAAI,CAACG,QAAQ,CAACY,WAAW,EAAE,CAC9B,CACJ;EACH;EAEAC,OAAOA,CAAA;IACL,OAAO3D,IAAI,CAAC4D,GAAG,CAAC,IAAI,CAACP,IAAI,EAAE,EAAGA,IAAI,IAAKA,IAAI,IAAI,CAAC,CAAC;EACnD;EAEAQ,MAAMA,CAAA;IACJ,OAAO7D,IAAI,CAAC4D,GAAG,CAAC,IAAI,CAACP,IAAI,EAAE,EAAGA,IAAI,IAAKA,IAAI,IAAI,IAAI,CAACD,QAAQ,EAAE,CAAC;EACjE;EAEAU,QAAQA,CAAA;IACN,OAAO9D,IAAI,CAAC+D,eAAe,CACzB/D,IAAI,CAACgE,gBAAgB,CAAsBC,KAAK,IAAI;MAC1BpE,UAAU,CAAC0B,GAAG,CAAC,IAAI,CAAC,CAAvC,IAAI,CAACsB,YAAY;MACtB,OAQE7C,IAAI,CAACkE,MAAM,CADXlE,IAAI,CAACmE,UAAU,CAACnE,IAAI,CAACoE,eAAe,CAAC,IAAI,CAACxB,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC,CADhE5C,IAAI,CAACqE,QAAQ,CAAC,IAAI,CAACvB,QAAQ,CAACgB,QAAQ,EAAE,CAAC,CALvC7D,YAAY,CAACqE,0BAA0B,CACrCC,aAAa,CAAC,IAAI,CAAC5B,MAAM,CAAC,EACzB6B,CAAC,IAAKxE,IAAI,CAACyE,qBAAqB,CAACD,CAAC,EAAEP,KAAK,CAACS,EAAE,EAAE,CAAC,EAChD,KAAK,CACN;IAKL,CAAC,CAAC,CACH;EACH;EAEAC,UAAUA,CAAA;IACR,OAAO3E,IAAI,CAAC4E,IAAI,CAAC,MAAM/E,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC,CAAC;EAC3D;EAEAgC,aAAaA,CAAA;IACX,OAAO7E,IAAI,CAAC8E,aAAa,CAAC,IAAI,CAAClC,YAAY,CAAC;EAC9C;EAEAmC,QAAQA,CAAA;IACN,OAAO,CAAClF,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC;EAC3C;EAEAmC,WAAWA,CAACC,KAAQ;IAClB,IAAIpF,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC,EAAE;MACrC,OAAO,KAAK;;IAEd,IAAIqC,WAAoB;IACxB,IAAItF,YAAY,CAAC+D,OAAO,CAAC,IAAI,CAACjB,KAAK,CAAC,EAAE;MACpC,MAAMyC,KAAK,GAETvF,YAAY,CAACwF,IAAI,CAACxF,YAAY,CAACyF,iBAAiB,CAAC,CADjD,IAAI,CAAC1C,MAAM,CAEZ;MACD,IAAIwC,KAAK,KAAKvF,YAAY,CAACyF,iBAAiB,EAAE;QAC5CC,sBAAsB,CAACH,KAAK,EAAEF,KAAK,CAAC;QACpCC,WAAW,GAAG,IAAI;OACnB,MAAM;QACLA,WAAW,GAAG,KAAK;;KAEtB,MAAM;MACLA,WAAW,GAAG,KAAK;;IAErB,IAAIA,WAAW,EAAE;MACf,OAAO,IAAI;;IAEb;IACA,MAAMK,SAAS,GAAoB3F,YAAY,CAAC4F,KAAK,CAACP,KAAK,CAAC,CAArC,IAAI,CAACvC,KAAK,CAA4B;IAC7D+C,oBAAoB,CAAC,IAAI,CAAC3C,QAAQ,EAAE,IAAI,CAACJ,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;IAC5D,OAAO4C,SAAS;EAClB;EAEAC,KAAKA,CAACP,KAAQ;IACZ,OAAOjF,IAAI,CAACsD,OAAO,CAAC,MAAK;MACvB,IAAIzD,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC,EAAE;QACrC,OAAO7C,IAAI,CAACuD,SAAS;;MAEvB,IAAI2B,WAAoB;MACxB,IAAItF,YAAY,CAAC+D,OAAO,CAAC,IAAI,CAACjB,KAAK,CAAC,EAAE;QACpC,MAAMyC,KAAK,GAETvF,YAAY,CAACwF,IAAI,CAACxF,YAAY,CAACyF,iBAAiB,CAAC,CADjD,IAAI,CAAC1C,MAAM,CAEZ;QACD,IAAIwC,KAAK,KAAKvF,YAAY,CAACyF,iBAAiB,EAAE;UAC5CC,sBAAsB,CAACH,KAAK,EAAEF,KAAK,CAAC;UACpCC,WAAW,GAAG,IAAI;SACnB,MAAM;UACLA,WAAW,GAAG,KAAK;;OAEtB,MAAM;QACLA,WAAW,GAAG,KAAK;;MAErB,IAAIA,WAAW,EAAE;QACf,OAAOlF,IAAI,CAACwD,OAAO,CAAC,IAAI,CAAC;;MAE3B;MACA,MAAM+B,SAAS,GAAoB3F,YAAY,CAAC4F,KAAK,CAACP,KAAK,CAAC,CAArC,IAAI,CAACvC,KAAK,CAA4B;MAC7D+C,oBAAoB,CAAC,IAAI,CAAC3C,QAAQ,EAAE,IAAI,CAACJ,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;MAC5D,OAAO4C,SAAS,GACZvF,IAAI,CAACwD,OAAO,CAAC,IAAI,CAAC,GAClB,IAAI,CAACV,QAAQ,CAAC4C,aAAa,CAAC,CAACT,KAAK,CAAC,EAAE,IAAI,CAACvC,KAAK,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACE,YAAY,CAAC;IACtF,CAAC,CAAC;EACJ;EAEA8C,QAAQA,CAACC,QAAqB;IAC5B,OAAO5F,IAAI,CAACsD,OAAO,CAAC,MAAK;MACvB,IAAIzD,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC,EAAE;QACrC,OAAO7C,IAAI,CAACuD,SAAS;;MAEvB,MAAMsC,MAAM,GAAG9F,aAAa,CAAC+F,YAAY,CAACF,QAAQ,CAAC;MACnD,MAAMG,OAAO,GAAGnG,YAAY,CAAC+D,OAAO,CAAC,IAAI,CAACjB,KAAK,CAAC,GAC5C3C,aAAa,CAAC+F,YAAY,CAACE,WAAW,CAAC,IAAI,CAACrD,MAAM,EAAEkD,MAAM,CAACpC,MAAM,CAAC,CAAC,GACnE1D,aAAa,CAACkG,KAAK;MACvB,MAAM,CAACC,SAAS,EAAEC,SAAS,CAAC,GAAgBpG,aAAa,CAACqG,OAAO,CAACL,OAAO,CAACtC,MAAM,CAAC,CAA7CoC,MAAM,CAAwC;MAClF,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,OAAO,CAACtC,MAAM,EAAE4C,CAAC,EAAE,EAAE;QACvC,MAAMlB,KAAK,GAAIY,OAAe,CAACM,CAAC,CAAC;QACjC,MAAMC,IAAI,GAAGJ,SAAS,CAACG,CAAC,CAAC;QACzBf,sBAAsB,CAACH,KAAK,EAAEmB,IAAI,CAAC;;MAErC,IAAIH,SAAS,CAAC1C,MAAM,KAAK,CAAC,EAAE;QAC1B,OAAOzD,IAAI,CAACwD,OAAO,CAAC,IAAI,CAAC;;MAE3B;MACA,MAAM+C,OAAO,GAAGC,cAAc,CAAC,IAAI,CAAC9D,KAAK,EAAEyD,SAAS,CAAC;MACrDV,oBAAoB,CAAC,IAAI,CAAC3C,QAAQ,EAAE,IAAI,CAACJ,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;MAC5D,OAAOnD,KAAK,CAACmE,OAAO,CAAC4C,OAAO,CAAC,GACzBvG,IAAI,CAACwD,OAAO,CAAC,IAAI,CAAC,GAClB,IAAI,CAACV,QAAQ,CAAC4C,aAAa,CAACa,OAAO,EAAE,IAAI,CAAC7D,KAAK,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACE,YAAY,CAAC;IACtF,CAAC,CAAC;EACJ;EAEA4D,IAAIA,CAAA;IACF,OAAOzG,IAAI,CAACgE,gBAAgB,CAAmBC,KAAK,IAAI;MACtD,IAAIpE,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC,EAAE;QACrC,OAAO7C,IAAI,CAACuD,SAAS;;MAEvB,MAAM+C,IAAI,GAAoB1G,YAAY,CAACwF,IAAI,CAACxF,YAAY,CAACyF,iBAAiB,CAAC,CAA7D,IAAI,CAAC3C,KAAK,CAAoD;MAChF,IAAI4D,IAAI,KAAK1G,YAAY,CAACyF,iBAAiB,EAAE;QAC3C,IAAI,CAACvC,QAAQ,CAAC4D,uBAAuB,CAAC,IAAI,CAAChE,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;QAC9D,OAAO3C,IAAI,CAACwD,OAAO,CAAC8C,IAAI,CAAC;OAC1B,MAAM;QACL;QACA;QACA;QACA;QACA,MAAMK,QAAQ,GAAG3G,IAAI,CAAC4G,kBAAkB,CAAW3C,KAAK,CAACS,EAAE,EAAE,CAAC;QAC9D,OAQE1E,IAAI,CAAC6G,WAAW,CAAC,MAAK;UACpB,OAAO7G,IAAI,CAAC4E,IAAI,CAAC,MAAMkC,YAAY,CAAC,IAAI,CAACnE,MAAM,EAAEgE,QAAQ,CAAC,CAAC;QAC7D,CAAC,CAAC,CATF3G,IAAI,CAACsD,OAAO,CAAC,MAAK;UACE1D,YAAY,CAAC4F,KAAK,CAACmB,QAAQ,CAAC,CAAzC,IAAI,CAAChE,MAAM;UAChB8C,oBAAoB,CAAC,IAAI,CAAC3C,QAAQ,EAAE,IAAI,CAACJ,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;UAC5D,OAAO9C,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC,GACtC7C,IAAI,CAACuD,SAAS,GACdvD,IAAI,CAAC8E,aAAa,CAAC6B,QAAQ,CAAC;QAChC,CAAC,CAAC;;IAMR,CAAC,CAAC;EACJ;EAEAI,OAAOA,CAAA;IACL,OAAO/G,IAAI,CAACsD,OAAO,CAAC,MAAK;MACvB,OAAOzD,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC,GACpC7C,IAAI,CAACuD,SAAS,GACdvD,IAAI,CAAC4E,IAAI,CAAC,MAAK;QACf,MAAMiB,MAAM,GAAGtB,aAAa,CAAC,IAAI,CAAC7B,KAAK,CAAC;QACxC,IAAI,CAACI,QAAQ,CAAC4D,uBAAuB,CAAC,IAAI,CAAChE,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;QAC9D,OAAOnD,KAAK,CAACsG,YAAY,CAACD,MAAM,CAAC;MACnC,CAAC,CAAC;IACN,CAAC,CAAC;EACJ;EAEAmB,QAAQA,CAACC,GAAW;IAClB,OAAOjH,IAAI,CAACsD,OAAO,CAAC,MAClBzD,UAAU,CAACe,GAAG,CAAC,IAAI,CAACiC,YAAY,CAAC,GAC7B7C,IAAI,CAACuD,SAAS,GACdvD,IAAI,CAAC4E,IAAI,CAAC,MAAK;MACf,MAAMiB,MAAM,GAAGG,WAAW,CAAC,IAAI,CAACtD,KAAK,EAAEuE,GAAG,CAAC;MAC3C,IAAI,CAACnE,QAAQ,CAAC4D,uBAAuB,CAAC,IAAI,CAAChE,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;MAC9D,OAAOnD,KAAK,CAACsG,YAAY,CAACD,MAAM,CAAC;IACnC,CAAC,CAAC,CACL;EACH;EAEAqB,WAAWA,CAACC,GAAW,EAAEF,GAAW;IAClC,OAAOjH,IAAI,CAACsD,OAAO,CAAC,MAClB8D,iBAAiB,CACf,IAAI,EACJD,GAAG,EACHF,GAAG,EACHzH,KAAK,CAACyG,KAAK,EAAE,CACd,CACF;EACH;;KAlOUxE,aAAa,EAAAuB,EAAA,GACblB,aAAa;AAoOzB;AACA,MAAMsF,iBAAiB,GAAGA,CACxBC,IAAsB,EACtBF,GAAW,EACXF,GAAW,EACXK,GAAmB,KAC4B;EAC/C,IAAIL,GAAG,GAAGE,GAAG,EAAE;IACb,OAAOnH,IAAI,CAACwD,OAAO,CAAC8D,GAAG,CAAC;;EAE1B,OAEEtH,IAAI,CAACuH,OAAO,CAAEC,EAAE,IAAI;IAClB,MAAMrB,SAAS,GAAGgB,GAAG,GAAGK,EAAE,CAAC/D,MAAM;IACjC,IAAI0C,SAAS,KAAK,CAAC,EAAE;MACnB,OAEEnG,IAAI,CAAC4D,GAAG,CAAE6D,CAAC,IAAoCjI,KAAK,CAACkI,MAAM,CAACD,CAAC,CAAC,CAApCjI,KAAK,CAACmI,SAAS,CAACH,EAAE,CAAC,CAAxBF,GAAG,EAAuC,CAAC,CADhEb,IAAI,CAACY,IAAI,CAAC;;IAId,IAAIlB,SAAS,GAAG,CAAC,EAAE;MACjB,OAEEnG,IAAI,CAACuH,OAAO,CAAEE,CAAC,IACbL,iBAAiB,CACfC,IAAI,EACJlB,SAAS,GAAG,CAAC,EACbc,GAAG,GAAGO,EAAE,CAAC/D,MAAM,GAAG,CAAC,EACYjE,KAAK,CAACkI,MAAM,CAACD,CAAC,CAAC,CAApCjI,KAAK,CAACmI,SAAS,CAACH,EAAE,CAAC,CAAxBF,GAAG,EAAuC,CAChD,CACF,CARDb,IAAI,CAACY,IAAI,CAAC;;IAWd,OAAOrH,IAAI,CAACwD,OAAO,CAAWhE,KAAK,CAACmI,SAAS,CAACH,EAAE,CAAC,CAAxBF,GAAG,CAAsB,CAAC;EACrD,CAAC,CAAC,CAvBFN,QAAQ,CAACK,IAAI,EAAEJ,GAAG,CAAC;AAyBvB,CAAC;AAED;AACO,MAAMW,OAAO,GAAIC,CAAU,IAAgCC,SAAS,CAACD,CAAC,CAAC,IAAIE,SAAS,CAACF,CAAC,CAAC;AAE9F;AAAAjG,OAAA,CAAAgG,OAAA,GAAAA,OAAA;AACO,MAAME,SAAS,GAAID,CAAU,IAClC,OAAOA,CAAC,KAAK,QAAQ,IAAIA,CAAC,IAAI,IAAI,IAAIpG,aAAa,IAAIoG,CAAC;AAE1D;AAAAjG,OAAA,CAAAkG,SAAA,GAAAA,SAAA;AACO,MAAMC,SAAS,GAAIF,CAAU,IAClC,OAAOA,CAAC,KAAK,QAAQ,IAAIA,CAAC,IAAI,IAAI,IAAI/F,aAAa,IAAI+F,CAAC;AAE1D;AAAAjG,OAAA,CAAAmG,SAAA,GAAAA,SAAA;AACO,MAAMC,OAAO,GAAOC,iBAAyB,IAGhDjI,IAAI,CAACuH,OAAO,CAAE7E,KAAK,IAAKwF,IAAI,CAACxF,KAAK,EAAEyF,oBAAoB,EAAE,CAAC,CAAC,CAD5DnI,IAAI,CAAC4E,IAAI,CAAC,MAAMhF,YAAY,CAACoI,OAAO,CAAIC,iBAAiB,CAAC,CAAC,CAE5D;AAEH;AAAArG,OAAA,CAAAoG,OAAA,GAAAA,OAAA;AACO,MAAMI,QAAQ,GAAOH,iBAAyB,IAGjDjI,IAAI,CAACuH,OAAO,CAAE7E,KAAK,IAAKwF,IAAI,CAACxF,KAAK,EAAE2F,gBAAgB,EAAE,CAAC,CAAC,CADxDrI,IAAI,CAAC4E,IAAI,CAAC,MAAMhF,YAAY,CAACoI,OAAO,CAAIC,iBAAiB,CAAC,CAAC,CAE5D;AAEH;AAAArG,OAAA,CAAAwG,QAAA,GAAAA,QAAA;AACO,MAAME,OAAO,GAAOL,iBAAyB,IAGhDjI,IAAI,CAACuH,OAAO,CAAE7E,KAAK,IAAKwF,IAAI,CAACxF,KAAK,EAAE6F,eAAe,EAAE,CAAC,CAAC,CADvDvI,IAAI,CAAC4E,IAAI,CAAC,MAAMhF,YAAY,CAACoI,OAAO,CAAIC,iBAAiB,CAAC,CAAC,CAE5D;AAEH;AAAArG,OAAA,CAAA0G,OAAA,GAAAA,OAAA;AACO,MAAME,SAAS,GAAGA,CAAA,KAGrBxI,IAAI,CAACuH,OAAO,CAAE7E,KAAK,IAAKwF,IAAI,CAACxF,KAAK,EAAE2F,gBAAgB,EAAE,CAAC,CAAC,CADxDrI,IAAI,CAAC4E,IAAI,CAAC,MAAMhF,YAAY,CAAC4I,SAAS,EAAK,CAAC,CAE7C;AAEH;AAAA5G,OAAA,CAAA4G,SAAA,GAAAA,SAAA;AACA,MAAMC,UAAU,GAAGA,CACjB/F,KAAmC,EACnCC,MAA8D,EAC9DC,YAA4C,EAC5CC,YAA4C,EAC5CC,QAA2B,KACT;EAClB,OAAO,IAAIN,SAAS,CAACE,KAAK,EAAEC,MAAM,EAAEC,YAAY,EAAEC,YAAY,EAAEC,QAAQ,CAAC;AAC3E,CAAC;AAED;AACA,MAAMoF,IAAI,GAAGA,CACXxF,KAAmC,EACnCI,QAA2B,KAIzB9C,IAAI,CAAC4D,GAAG,CAAE+C,QAAQ,IAChB8B,UAAU,CACR/F,KAAK,EACL9C,YAAY,CAAC4I,SAAS,EAAE,EACxB7B,QAAQ,EACR9G,UAAU,CAACqI,IAAI,CAAC,KAAK,CAAC,EACtBpF,QAAQ,CACT,CACF,CATD9C,IAAI,CAAC0I,YAAY,EAAe,CAUjC;AAEH;AACO,MAAMtF,QAAQ,GAAOiE,IAAyC,IAAaA,IAAI,CAACjE,QAAQ,EAAE;AAEjG;AAAAxB,OAAA,CAAAwB,QAAA,GAAAA,QAAA;AACO,MAAMC,IAAI,GAAOgE,IAAyC,IAA0CA,IAAI,CAAChE,IAAI,EAAE;AAEtH;AAAAzB,OAAA,CAAAyB,IAAA,GAAAA,IAAA;AACO,MAAMQ,MAAM,GAAOwD,IAAyC,IACjEA,IAAI,CAACxD,MAAM,EAAE;AAEf;AAAAjC,OAAA,CAAAiC,MAAA,GAAAA,MAAA;AACO,MAAMF,OAAO,GAAO0D,IAAyC,IAClEA,IAAI,CAAC1D,OAAO,EAAE;AAEhB;AAAA/B,OAAA,CAAA+B,OAAA,GAAAA,OAAA;AACO,MAAMgB,UAAU,GAAO0C,IAAyC,IACrEA,IAAI,CAAC1C,UAAU,EAAE;AAEnB;AAAA/C,OAAA,CAAA+C,UAAA,GAAAA,UAAA;AACO,MAAME,aAAa,GAAOwC,IAAyC,IACxEA,IAAI,CAACxC,aAAa,EAAE;AAEtB;AAAAjD,OAAA,CAAAiD,aAAA,GAAAA,aAAA;AACO,MAAMf,QAAQ,GAAOuD,IAAyC,IACnEA,IAAI,CAACvD,QAAQ,EAAE;AAEjB;AAAAlC,OAAA,CAAAkC,QAAA,GAAAA,QAAA;AACO,MAAM0B,KAAK,gBAAG,IAAAmD,cAAI,EAGvB,CAAC,EAAE,CAACtB,IAAI,EAAEpC,KAAK,KAAKoC,IAAI,CAAC7B,KAAK,CAACP,KAAK,CAAC,CAAC;AAExC;AAAArD,OAAA,CAAA4D,KAAA,GAAAA,KAAA;AACO,MAAMR,WAAW,gBAAG,IAAA2D,cAAI,EAG7B,CAAC,EAAE,CAACtB,IAAI,EAAEpC,KAAK,KAAKoC,IAAI,CAACrC,WAAW,CAACC,KAAK,CAAC,CAAC;AAE9C;AAAArD,OAAA,CAAAoD,WAAA,GAAAA,WAAA;AACO,MAAMW,QAAQ,gBAAG,IAAAgD,cAAI,EAQ1B,CAAC,EAAE,CAACtB,IAAI,EAAEzB,QAAQ,KAAKyB,IAAI,CAAC1B,QAAQ,CAACC,QAAQ,CAAC,CAAC;AAEjD;AAAAhE,OAAA,CAAA+D,QAAA,GAAAA,QAAA;AACO,MAAMP,IAAI,GAAOiC,IAAsB,IAC5CrH,IAAI,CAAC4D,GAAG,CAACyD,IAAI,CAACL,QAAQ,CAAC,CAAC,CAAC,EAAExH,KAAK,CAACoJ,IAAI,CAAC;AAExC;AAAAhH,OAAA,CAAAwD,IAAA,GAAAA,IAAA;AACO,MAAMqB,IAAI,GAAOY,IAAsB,IAAqCA,IAAI,CAACZ,IAAI,EAAE;AAE9F;AAAA7E,OAAA,CAAA6E,IAAA,GAAAA,IAAA;AACO,MAAMM,OAAO,GAAOM,IAAsB,IAAkDA,IAAI,CAACN,OAAO,EAAE;AAEjH;AAAAnF,OAAA,CAAAmF,OAAA,GAAAA,OAAA;AACO,MAAMC,QAAQ,gBAAG,IAAA2B,cAAI,EAG1B,CAAC,EAAE,CAACtB,IAAI,EAAEJ,GAAG,KAAKI,IAAI,CAACL,QAAQ,CAACC,GAAG,CAAC,CAAC;AAEvC;AAAArF,OAAA,CAAAoF,QAAA,GAAAA,QAAA;AACO,MAAME,WAAW,gBAAG,IAAAyB,cAAI,EAG7B,CAAC,EAAE,CAACtB,IAAI,EAAEF,GAAG,EAAEF,GAAG,KAAKI,IAAI,CAACH,WAAW,CAACC,GAAG,EAAEF,GAAG,CAAC,CAAC;AAEpD;AAAArF,OAAA,CAAAsF,WAAA,GAAAA,WAAA;AACO,MAAM2B,KAAK,gBAAG,IAAAF,cAAI,EAGvB,CAAC,EAAE,CAACtB,IAAI,EAAEyB,CAAC,KAAKzB,IAAI,CAACH,WAAW,CAAC4B,CAAC,EAAEA,CAAC,CAAC,CAAC;AAEzC;AACA;AACA;AAEA;AAAAlH,OAAA,CAAAiH,KAAA,GAAAA,KAAA;AACO,MAAMV,oBAAoB,GAAGA,CAAA,KAA4B,IAAIY,oBAAoB,EAAE;AAE1F;AAAAnH,OAAA,CAAAuG,oBAAA,GAAAA,oBAAA;AACO,MAAME,gBAAgB,GAAGA,CAAA,KAA4B,IAAIW,gBAAgB,EAAE;AAElF;AAAApH,OAAA,CAAAyG,gBAAA,GAAAA,gBAAA;AACO,MAAME,eAAe,GAAGA,CAAA,KAA4B,IAAIU,eAAe,EAAE;AAEhF;AAAArH,OAAA,CAAA2G,eAAA,GAAAA,eAAA;AACA,MAAMQ,oBAAoB;EAA1BtG,YAAA;IACW,KAAAyG,EAAA,CAAqB,GAAGjH,qBAAqB;IAE7C,KAAAkH,OAAO,GAAGvJ,YAAY,CAAC4I,SAAS,EAA4D;EA0FvG;EAxFE9E,WAAWA,CAAA;IACT,OAAO9D,YAAY,CAAC6D,MAAM,CAAC,IAAI,CAAC0F,OAAO,CAAC;EAC1C;EAEArF,QAAQA,CAAA;IACN,OAEE9D,IAAI,CAACuH,OAAO,CAAE6B,OAAO,IAGjBpJ,IAAI,CAACuH,OAAO,CAAE4B,OAAO,IACnBlJ,YAAY,CAACqE,0BAA0B,CAAC6E,OAAO,EAAE,CAAC,CAAChH,CAAC,EAAEwE,QAAQ,EAAE0C,UAAU,CAAC,KACzEA,UAAU,GAGNrJ,IAAI,CAACkE,MAAM,CADXlE,IAAI,CAACyE,qBAAqB,CAACkC,QAAQ,EAAEyC,OAAO,CAAC,IAG/CpJ,IAAI,CAACsJ,IAAI,EAAE,KAAK,CAAC,CACtB,CATDtJ,IAAI,CAAC4E,IAAI,CAAC,MAAML,aAAa,CAAC,IAAI,CAAC4E,OAAO,CAAC,CAAC,CAU7C,CACF,CAdDnJ,IAAI,CAACoJ,OAAO;EAgBhB;EAEA1D,aAAaA,CACXE,QAAqB,EACrBlD,KAAmC,EACnCC,MAA8D,EAC9DgC,UAA0C;IAE1C,OAAO3E,IAAI,CAACgE,gBAAgB,CAAyBC,KAAK,IAAI;MAC5D,MAAM0C,QAAQ,GAAG3G,IAAI,CAAC4G,kBAAkB,CAAiB3C,KAAK,CAACS,EAAE,EAAE,CAAC;MACpE,OAOE1E,IAAI,CAAC6G,WAAW,CAAC,MAAM7G,IAAI,CAAC4E,IAAI,CAAC,MAAM,IAAI,CAACkC,YAAY,CAACH,QAAQ,CAAC,CAAC,CAAC,CANpE3G,IAAI,CAACsD,OAAO,CAAC,MAAK;QAChB,IAAI,CAAC0B,WAAW,CAACY,QAAQ,EAAEe,QAAQ,CAAC;QACpC,IAAI,CAACD,uBAAuB,CAAChE,KAAK,EAAEC,MAAM,CAAC;QAC3C8C,oBAAoB,CAAC,IAAI,EAAE/C,KAAK,EAAEC,MAAM,CAAC;QACzC,OAAO9C,UAAU,CAACe,GAAG,CAAC+D,UAAU,CAAC,GAAG3E,IAAI,CAACuD,SAAS,GAAGvD,IAAI,CAAC8E,aAAa,CAAC6B,QAAQ,CAAC;MACnF,CAAC,CAAC;IAGN,CAAC,CAAC;EACJ;EAEAD,uBAAuBA,CACrBhE,KAAmC,EACnCC,MAA8D;IAE9D,IAAI4G,WAAW,GAAG,IAAI;IACtB,OAAOA,WAAW,IAAI,CAAC3J,YAAY,CAACiE,MAAM,CAACnB,KAAK,CAAC,EAAE;MACjD,MAAM8G,MAAM,GAAsB5J,YAAY,CAACwF,IAAI,CAACxF,YAAY,CAACyF,iBAAiB,CAAC,CAA/D,IAAI,CAAC8D,OAAO,CAAoD;MACpF,IAAIK,MAAM,KAAK5J,YAAY,CAACyF,iBAAiB,EAAE;QAC7CkE,WAAW,GAAG,KAAK;OACpB,MAAM;QACL,MAAME,OAAO,GAAe7J,YAAY,CAAC4F,KAAK,CAACgE,MAAM,CAAC,CAAC,CAAC,CAAC,CAApC9G,KAAK,CAAgC;QAC1D,IAAI+G,OAAO,IAAID,MAAM,CAAC,CAAC,CAAC,EAAE;UACxBlE,sBAAsB,CAACkE,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;SACxC,MAAM,IAAI,CAACC,OAAO,EAAE;UACnBjD,cAAc,CAAC,IAAI,CAAC2C,OAAO,EAAoC3J,KAAK,CAACkK,OAAO,CAACF,MAAM,CAAC,CAAlDjF,aAAa,CAAC,IAAI,CAAC4E,OAAO,CAAC,CAAwB,CAAC;;QAExF1D,oBAAoB,CAAC,IAAI,EAAE/C,KAAK,EAAEC,MAAM,CAAC;;;EAG/C;EAEAqC,WAAWA,CAACY,QAAqB,EAAEe,QAA2C;IAC5E,MAAMgD,QAAQ,GAAG/D,QAAQ,CAAClE,MAAM,CAACiI,QAAQ,CAAC,EAAE;IAC5C,IAAIC,IAAI,GAAsBD,QAAQ,CAACC,IAAI,EAAE;IAC7C,IAAI,CAACA,IAAI,CAACC,IAAI,EAAE;MACd;MACA,OAAO,CAAC,EAAE;QACR,MAAM5E,KAAK,GAAG2E,IAAI,CAAC3E,KAAK;QACxB2E,IAAI,GAAGD,QAAQ,CAACC,IAAI,EAAE;QACtB,IAAIA,IAAI,CAACC,IAAI,EAAE;UACMjK,YAAY,CAAC4F,KAAK,CAAC,CAACP,KAAK,EAAE0B,QAAQ,EAAE,IAAe,CAAU,CAAC,CAA7E,IAAI,CAACwC,OAAO;UACjB;;QAEiBvJ,YAAY,CAAC4F,KAAK,CAAC,CAACP,KAAK,EAAE0B,QAAQ,EAAE,KAAgB,CAAU,CAAC,CAA9E,IAAI,CAACwC,OAAO;;;EAGvB;EAEArC,YAAYA,CAACH,QAA2C;IACtDH,cAAc,CACZ,IAAI,CAAC2C,OAAO,EACsB3J,KAAK,CAACsK,MAAM,CAAC,CAAC,GAAG3H,CAAC,CAAC,KAAKA,CAAC,KAAKwE,QAAQ,CAAC,CAApEpC,aAAa,CAAC,IAAI,CAAC4E,OAAO,CAAC,CAA0C,CAC3E;EACH;;KA3FUnH,mBAAmB;AA8F/B;AACA,MAAMgH,gBAAgB;EAAtBvG,YAAA;IACW,KAAAsH,EAAA,CAAqB,GAAG9H,qBAAqB;EAyBxD;EAvBEyB,WAAWA,CAAA;IACT,OAAO,CAAC;EACV;EAEAI,QAAQA,CAAA;IACN,OAAO9D,IAAI,CAACsJ,IAAI;EAClB;EAEA5D,aAAaA,CACXsE,SAAsB,EACtBC,MAAoC,EACpCC,OAA+D,EAC/DC,WAA2C;IAE3C,OAAOnK,IAAI,CAACwD,OAAO,CAAC,KAAK,CAAC;EAC5B;EAEAkD,uBAAuBA,CACrBuD,MAAoC,EACpCC,OAA+D;IAE/D;EAAA;;KAvBQlI,mBAAmB;AA2B/B;AACA,MAAMiH,eAAe;EAArBxG,YAAA;IACW,KAAA2H,EAAA,CAAqB,GAAGnI,qBAAqB;EA2CxD;EAzCEyB,WAAWA,CAAA;IACT,OAAO,CAAC;EACV;EAEAI,QAAQA,CAAA;IACN,OAAO9D,IAAI,CAACsJ,IAAI;EAClB;EAEA5D,aAAaA,CACXE,QAAqB,EACrBlD,KAAmC,EACnCC,MAA8D,EAC9DwH,WAA2C;IAE3C,OAAOnK,IAAI,CAAC4E,IAAI,CAAC,MAAK;MACpB,IAAI,CAACI,WAAW,CAACtC,KAAK,EAAEkD,QAAQ,CAAC;MACjCH,oBAAoB,CAAC,IAAI,EAAE/C,KAAK,EAAEC,MAAM,CAAC;MACzC,OAAO,IAAI;IACb,CAAC,CAAC;EACJ;EAEA+D,uBAAuBA,CACrBuD,MAAoC,EACpCC,OAA+D;IAE/D;EAAA;EAGFlF,WAAWA,CAACtC,KAAmC,EAAEkD,QAAqB;IACpE,MAAM+D,QAAQ,GAAG/D,QAAQ,CAAClE,MAAM,CAACiI,QAAQ,CAAC,EAAE;IAC5C,IAAIC,IAAuB;IAC3B,IAAIS,QAAQ,GAAG,IAAI;IACnB,OAAO,CAAC,CAACT,IAAI,GAAGD,QAAQ,CAACC,IAAI,EAAE,EAAEC,IAAI,IAAIQ,QAAQ,EAAE;MACjD,IAAIzK,YAAY,CAACwD,QAAQ,CAACV,KAAK,CAAC,KAAK,CAAC,EAAE;QACtC;;MAEF;MACY9C,YAAY,CAACwF,IAAI,CAACxF,YAAY,CAACyF,iBAAiB,CAAC,CAAxD3C,KAAK;MACV2H,QAAQ,GAAezK,YAAY,CAAC4F,KAAK,CAACoE,IAAI,CAAC3E,KAAK,CAAC,CAArCvC,KAAK,CAAiC;;EAE1D;;KA1CUV,mBAAmB;AA6C/B;AACA,MAAMsD,sBAAsB,GAAGA,CAAIqB,QAAqC,EAAE2D,CAAI,KAAU;EACtF,OAAOtK,IAAI,CAACuK,kBAAkB,CAAC5D,QAAQ,EAAE3G,IAAI,CAACwD,OAAO,CAAC8G,CAAC,CAAC,CAAC;AAC3D,CAAC;AAED;AACA,MAAM9D,cAAc,GAAGA,CAAI9D,KAAmC,EAAE8H,EAAe,KAAoB;EACjG,OAAmB5K,YAAY,CAAC+F,QAAQ,CAAC6E,EAAE,CAAC,CAAhC9H,KAAK;AACnB,CAAC;AAED;AACA,MAAM6B,aAAa,GAAO7B,KAAmC,IAAoB;EAC/E,OAAmB9C,YAAY,CAAC6K,QAAQ,CAACC,MAAM,CAACC,iBAAiB,CAAC,CAAtDjI,KAAK;AACnB,CAAC;AAED;AACA,MAAMsD,WAAW,GAAGA,CAAItD,KAAmC,EAAEuE,GAAW,KAAoB;EAC1F,OAAmBrH,YAAY,CAAC6K,QAAQ,CAACxD,GAAG,CAAC,CAAjCvE,KAAK;AACnB,CAAC;AAED;AACO,MAAMoE,YAAY,GAAGA,CAAIpE,KAAmC,EAAE4H,CAAI,KAAU;EACjF9D,cAAc,CACZ9D,KAAK,EACsBlD,KAAK,CAACsK,MAAM,CAAErC,CAAC,IAAK6C,CAAC,KAAK7C,CAAC,CAAC,CAAlDlD,aAAa,CAAC7B,KAAK,CAAC,CAA+B,CACzD;AACH,CAAC;AAED;AAAAd,OAAA,CAAAkF,YAAA,GAAAA,YAAA;AACO,MAAMrB,oBAAoB,GAAGA,CAClC3C,QAA2B,EAC3BJ,KAAmC,EACnCC,MAA8D,KACtD;EACR;EACA,IAAI4G,WAAW,GAAG,IAAI;EACtB,OAAOA,WAAW,IAAI,CAAC3J,YAAY,CAAC+D,OAAO,CAACjB,KAAK,CAAC,EAAE;IAClD,MAAMyC,KAAK,GAAgBvF,YAAY,CAACwF,IAAI,CAACxF,YAAY,CAACyF,iBAAiB,CAAC,CAAzD1C,MAAM,CAAoD;IAC7E,IAAIwC,KAAK,KAAKvF,YAAY,CAACyF,iBAAiB,EAAE;MAC5C,MAAMuF,OAAO,GAAehL,YAAY,CAACwF,IAAI,CAACxF,YAAY,CAACyF,iBAAiB,CAAC,CAAxD3C,KAAK,CAAoD;MAC9E,IAAIkI,OAAO,KAAKhL,YAAY,CAACyF,iBAAiB,EAAE;QAC9CC,sBAAsB,CAACH,KAAK,EAAEyF,OAAO,CAAC;QACtC9H,QAAQ,CAAC4D,uBAAuB,CAAChE,KAAK,EAAEC,MAAM,CAAC;OAChD,MAAM;QACL6D,cAAc,CAAC7D,MAAM,EAA8BnD,KAAK,CAACkK,OAAO,CAACvE,KAAK,CAAC,CAA3CZ,aAAa,CAAC5B,MAAM,CAAC,CAAuB,CAAC;;MAE3E4G,WAAW,GAAG,IAAI;KACnB,MAAM;MACLA,WAAW,GAAG,KAAK;;;AAGzB,CAAC;AAAA3H,OAAA,CAAA6D,oBAAA,GAAAA,oBAAA"}