{"version":3,"file":"scopedRef.mjs","names":["Context","dual","pipeArguments","core","effect","circular","fiberRuntime","ref","synchronized","ScopedRefSymbolKey","ScopedRefTypeId","Symbol","for","scopedRefVariance","_A","_","close","self","flatMap","get","tuple","exitUnit","fromAcquire","acquire","uninterruptibleMask","restore","newScope","value","scopedRef","pipe","arguments","as","addFinalizer","makeSynchronized","onError","cause","exitFail","mapInputContext","add","scopeTag","scopeMake","map","make","evaluate","sync","set","flatten","modifyEffect","oldScope","exitMatch","onFailure","failCause","ignore","onSuccess","unit","exit"],"sources":["../../src/internal/scopedRef.ts"],"sourcesContent":[null],"mappings":"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"}