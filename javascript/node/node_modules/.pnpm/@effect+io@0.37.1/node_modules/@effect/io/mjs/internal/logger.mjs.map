{"version":3,"file":"logger.mjs","names":["constVoid","dual","HashMap","List","Option","pipeArguments","Cause","Pretty","_fiberId","LogSpan","LoggerSymbolKey","LoggerTypeId","Symbol","for","loggerVariance","_Message","_","_Output","makeLogger","log","pipe","arguments","mapInput","self","f","options","message","filterLogLevel","logLevel","some","none","map","simple","succeed","value","sync","evaluate","zip","that","zipLeft","tuple","zipRight","stringLogger","annotations","cause","date","fiberId","spans","nowMillis","getTime","outputArray","toISOString","label","threadName","output","join","stringMessage","serializeUnknown","length","appendQuoted","empty","pretty","isCons","first","span","render","size","key","filterKeyName","String","u","JSON","stringify","escapeDoubleQuotes","str","replace","textOnly","match","logfmtLogger","appendQuotedLogfmt","renderLogSpanLogfmt","escapeDoubleQuotesLogfmt","now","startTime"],"sources":["../../src/internal/logger.ts"],"sourcesContent":[null],"mappings":"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"}