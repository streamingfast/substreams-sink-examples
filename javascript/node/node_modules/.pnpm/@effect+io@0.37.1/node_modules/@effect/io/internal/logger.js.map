{"version":3,"file":"logger.js","names":["_Function","require","HashMap","_interopRequireWildcard","List","Option","_Pipeable","Cause","Pretty","_fiberId","LogSpan","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","LoggerSymbolKey","LoggerTypeId","Symbol","for","exports","loggerVariance","_Message","_","_Output","makeLogger","log","pipe","pipeArguments","arguments","mapInput","dual","self","f","options","message","filterLogLevel","logLevel","some","none","map","constVoid","simple","succeed","value","sync","evaluate","zip","that","zipLeft","tuple","zipRight","stringLogger","annotations","cause","date","fiberId","spans","nowMillis","getTime","outputArray","toISOString","label","threadName","output","join","stringMessage","serializeUnknown","length","appendQuoted","empty","pretty","isCons","first","span","render","size","filterKeyName","String","u","JSON","stringify","escapeDoubleQuotes","str","replace","textOnly","match","logfmtLogger","appendQuotedLogfmt","renderLogSpanLogfmt","escapeDoubleQuotesLogfmt","now","startTime"],"sources":["../src/internal/logger.ts"],"sourcesContent":[null],"mappings":";;;;;;AACA,IAAAA,SAAA,gBAAAC,OAAA;AACA,IAAAC,OAAA,gBAAAC,uBAAA,eAAAF,OAAA;AACA,IAAAG,IAAA,gBAAAD,uBAAA,eAAAF,OAAA;AACA,IAAAI,MAAA,gBAAAF,uBAAA,eAAAF,OAAA;AACA,IAAAK,SAAA,gBAAAL,OAAA;AAIA,IAAAM,KAAA,gBAAAJ,uBAAA,eAAAF,OAAA;AACA,IAAAO,MAAA,gBAAAL,uBAAA,eAAAF,OAAA;AACA,IAAAQ,QAAA,gBAAAN,uBAAA,eAAAF,OAAA;AAGA,IAAAS,OAAA,gBAAAP,uBAAA,eAAAF,OAAA;AAAiD,SAAAU,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAT,wBAAAa,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAEjD;AACA,MAAMW,eAAe,GAAG,mBAAmB;AAE3C;AACO,MAAMC,YAAY,gBAAwBC,MAAM,CAACC,GAAG,CACzDH,eAAe,CACO;AAExB;AAAAI,OAAA,CAAAH,YAAA,GAAAA,YAAA;AACA,MAAMI,cAAc,GAAG;EACrBC,QAAQ,EAAGC,CAAU,IAAKA,CAAC;EAC3BC,OAAO,EAAGD,CAAQ,IAAKA;CACxB;AAED;AACO,MAAME,UAAU,GACrBC,GAWW,KACyB;EACpC,CAACT,YAAY,GAAGI,cAAc;EAC9BK,GAAG;EACHC,IAAIA,CAAA;IACF,OAAO,IAAAC,uBAAa,EAAC,IAAI,EAAEC,SAAS,CAAC;EACvC;CACD,CAAC;AAEF;AAAAT,OAAA,CAAAK,UAAA,GAAAA,UAAA;AACO,MAAMK,QAAQ,gBAAG,IAAAC,cAAI,EAQ1B,CAAC,EAAE,CAACC,IAAI,EAAEC,CAAC,KACXR,UAAU,CACPS,OAAO,IAAKF,IAAI,CAACN,GAAG,CAAC;EAAE,GAAGQ,OAAO;EAAEC,OAAO,EAAEF,CAAC,CAACC,OAAO,CAACC,OAAO;AAAC,CAAE,CAAC,CACnE,CAAC;AAEJ;AAAAf,OAAA,CAAAU,QAAA,GAAAA,QAAA;AACO,MAAMM,cAAc,gBAAG,IAAAL,cAAI,EAQhC,CAAC,EAAE,CAACC,IAAI,EAAEC,CAAC,KACXR,UAAU,CAAES,OAAO,IACjBD,CAAC,CAACC,OAAO,CAACG,QAAQ,CAAC,GACfjD,MAAM,CAACkD,IAAI,CAACN,IAAI,CAACN,GAAG,CAACQ,OAAO,CAAC,CAAC,GAC9B9C,MAAM,CAACmD,IAAI,EAAE,CAClB,CAAC;AAEJ;AAAAnB,OAAA,CAAAgB,cAAA,GAAAA,cAAA;AACO,MAAMI,GAAG,gBAAG,IAAAT,cAAI,EAQrB,CAAC,EAAE,CAACC,IAAI,EAAEC,CAAC,KAAKR,UAAU,CAAES,OAAO,IAAKD,CAAC,CAACD,IAAI,CAACN,GAAG,CAACQ,OAAO,CAAC,CAAC,CAAC,CAAC;AAEhE;AAAAd,OAAA,CAAAoB,GAAA,GAAAA,GAAA;AACO,MAAMD,IAAI,GAAiC;EAChD,CAACtB,YAAY,GAAGI,cAAc;EAC9BK,GAAG,EAAEe,mBAAS;EACdd,IAAIA,CAAA;IACF,OAAO,IAAAC,uBAAa,EAAC,IAAI,EAAEC,SAAS,CAAC;EACvC;CAC+B;AAEjC;AAAAT,OAAA,CAAAmB,IAAA,GAAAA,IAAA;AACO,MAAMG,MAAM,GAAUhB,GAAgB,KAA2B;EACtE,CAACT,YAAY,GAAGI,cAAc;EAC9BK,GAAG,EAAEA,CAAC;IAAES;EAAO,CAAE,KAAKT,GAAG,CAACS,OAAO,CAAC;EAClCR,IAAIA,CAAA;IACF,OAAO,IAAAC,uBAAa,EAAC,IAAI,EAAEC,SAAS,CAAC;EACvC;CACD,CAAC;AAEF;AAAAT,OAAA,CAAAsB,MAAA,GAAAA,MAAA;AACO,MAAMC,OAAO,GAAOC,KAAQ,IAA+B;EAChE,OAAOF,MAAM,CAAC,MAAME,KAAK,CAAC;AAC5B,CAAC;AAED;AAAAxB,OAAA,CAAAuB,OAAA,GAAAA,OAAA;AACO,MAAME,IAAI,GAAOC,QAAoB,IAA+B;EACzE,OAAOJ,MAAM,CAACI,QAAQ,CAAC;AACzB,CAAC;AAED;AAAA1B,OAAA,CAAAyB,IAAA,GAAAA,IAAA;AACO,MAAME,GAAG,gBAAG,IAAAhB,cAAI,EAUrB,CAAC,EAAE,CAACC,IAAI,EAAEgB,IAAI,KAAKvB,UAAU,CAAES,OAAO,IAAK,CAACF,IAAI,CAACN,GAAG,CAACQ,OAAO,CAAC,EAAEc,IAAI,CAACtB,GAAG,CAACQ,OAAO,CAAC,CAAU,CAAC,CAAC;AAE9F;AAAAd,OAAA,CAAA2B,GAAA,GAAAA,GAAA;AACO,MAAME,OAAO,gBAAG,IAAAlB,cAAI,EAUzB,CAAC,EAAE,CAACC,IAAI,EAAEgB,IAAI,KAAKR,GAAG,CAACO,GAAG,CAACf,IAAI,EAAEgB,IAAI,CAAC,EAAGE,KAAK,IAAKA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAE/D;AAAA9B,OAAA,CAAA6B,OAAA,GAAAA,OAAA;AACO,MAAME,QAAQ,gBAAG,IAAApB,cAAI,EAU1B,CAAC,EAAE,CAACC,IAAI,EAAEgB,IAAI,KAAKR,GAAG,CAACO,GAAG,CAACf,IAAI,EAAEgB,IAAI,CAAC,EAAGE,KAAK,IAAKA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAE/D;AAAA9B,OAAA,CAAA+B,QAAA,GAAAA,QAAA;AACO,MAAMC,YAAY,gBAAmC3B,UAAU,CACpE,CAAC;EAAE4B,WAAW;EAAEC,KAAK;EAAEC,IAAI;EAAEC,OAAO;EAAEnB,QAAQ;EAAEF,OAAO;EAAEsB;AAAK,CAAE,KAAI;EAClE,MAAMC,SAAS,GAAGH,IAAI,CAACI,OAAO,EAAE;EAEhC,MAAMC,WAAW,GAAG,CAClB,aAAaL,IAAI,CAACM,WAAW,EAAE,EAAE,EACjC,SAASxB,QAAQ,CAACyB,KAAK,EAAE,EACzB,SAAStE,QAAQ,CAACuE,UAAU,CAACP,OAAO,CAAC,EAAE,CACxC;EAED,IAAIQ,MAAM,GAAGJ,WAAW,CAACK,IAAI,CAAC,GAAG,CAAC;EAClC,MAAMC,aAAa,GAAGC,gBAAgB,CAAChC,OAAO,CAAC;EAE/C,IAAI+B,aAAa,CAACE,MAAM,GAAG,CAAC,EAAE;IAC5BJ,MAAM,GAAGA,MAAM,GAAG,WAAW;IAC7BA,MAAM,GAAGK,YAAY,CAACH,aAAa,EAAEF,MAAM,CAAC;;EAG9C,IAAIV,KAAK,IAAI,IAAI,IAAIA,KAAK,IAAIhE,KAAK,CAACgF,KAAK,EAAE;IACzCN,MAAM,GAAGA,MAAM,GAAG,SAAS;IAC3BA,MAAM,GAAGK,YAAY,CAAC9E,MAAM,CAACgF,MAAM,CAACjB,KAAK,CAAC,EAAEU,MAAM,CAAC;;EAGrD,IAAI7E,IAAI,CAACqF,MAAM,CAACf,KAAK,CAAC,EAAE;IACtBO,MAAM,GAAGA,MAAM,GAAG,GAAG;IAErB,IAAIS,KAAK,GAAG,IAAI;IAChB,KAAK,MAAMC,IAAI,IAAIjB,KAAK,EAAE;MACxB,IAAIgB,KAAK,EAAE;QACTA,KAAK,GAAG,KAAK;OACd,MAAM;QACLT,MAAM,GAAGA,MAAM,GAAG,GAAG;;MAEvBA,MAAM,GAAGA,MAAM,GAAcvE,OAAO,CAACkF,MAAM,CAACjB,SAAS,CAAC,CAA/BgB,IAAI,CAA4B;;;EAI3D,IAAsBzF,OAAO,CAAC2F,IAAI,CAAzBvB,WAAW,IAAkB,CAAC,EAAE;IACvCW,MAAM,GAAGA,MAAM,GAAG,GAAG;IAErB,IAAIS,KAAK,GAAG,IAAI;IAChB,KAAK,MAAM,CAAC/D,GAAG,EAAEkC,KAAK,CAAC,IAAIS,WAAW,EAAE;MACtC,IAAIoB,KAAK,EAAE;QACTA,KAAK,GAAG,KAAK;OACd,MAAM;QACLT,MAAM,GAAGA,MAAM,GAAG,GAAG;;MAEvBA,MAAM,GAAGA,MAAM,GAAGa,aAAa,CAACnE,GAAG,CAAC;MACpCsD,MAAM,GAAGA,MAAM,GAAG,GAAG;MACrBA,MAAM,GAAGK,YAAY,CAACS,MAAM,CAAClC,KAAK,CAAC,EAAEoB,MAAM,CAAC;;;EAIhD,OAAOA,MAAM;AACf,CAAC,CACF;AAAA5C,OAAA,CAAAgC,YAAA,GAAAA,YAAA;AAED,MAAMe,gBAAgB,GAAIY,CAAU,IAAY;EAC9C,IAAI;IACF,OAAO,OAAOA,CAAC,KAAK,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAACF,CAAC,CAAC,GAAGD,MAAM,CAACC,CAAC,CAAC;GAC7D,CAAC,OAAOxD,CAAC,EAAE;IACV,OAAOuD,MAAM,CAACC,CAAC,CAAC;;AAEpB,CAAC;AAED;AACA,MAAMG,kBAAkB,GAAIC,GAAW,IAAK,IAAIA,GAAG,CAACC,OAAO,CAAC,iBAAiB,EAAE,QAAQ,CAAC,GAAG;AAE3F,MAAMC,QAAQ,GAAG,YAAY;AAE7B;AACA,MAAMhB,YAAY,GAAGA,CAACP,KAAa,EAAEE,MAAc,KACjDA,MAAM,IAAIF,KAAK,CAACwB,KAAK,CAACD,QAAQ,CAAC,GAAGvB,KAAK,GAAGoB,kBAAkB,CAACpB,KAAK,CAAC,CAAC;AAEtE;AACO,MAAMyB,YAAY,gBAAG9D,UAAU,CACpC,CAAC;EAAE4B,WAAW;EAAEC,KAAK;EAAEC,IAAI;EAAEC,OAAO;EAAEnB,QAAQ;EAAEF,OAAO;EAAEsB;AAAK,CAAE,KAAI;EAClE,MAAMC,SAAS,GAAGH,IAAI,CAACI,OAAO,EAAE;EAEhC,MAAMC,WAAW,GAAG,CAClB,aAAaL,IAAI,CAACM,WAAW,EAAE,EAAE,EACjC,SAASxB,QAAQ,CAACyB,KAAK,EAAE,EACzB,SAAStE,QAAQ,CAACuE,UAAU,CAACP,OAAO,CAAC,EAAE,CACxC;EAED,IAAIQ,MAAM,GAAGJ,WAAW,CAACK,IAAI,CAAC,GAAG,CAAC;EAClC,MAAMC,aAAa,GAAGC,gBAAgB,CAAChC,OAAO,CAAC;EAE/C,IAAI+B,aAAa,CAACE,MAAM,GAAG,CAAC,EAAE;IAC5BJ,MAAM,GAAGA,MAAM,GAAG,WAAW;IAC7BA,MAAM,GAAGwB,kBAAkB,CAACtB,aAAa,EAAEF,MAAM,CAAC;;EAGpD,IAAIV,KAAK,IAAI,IAAI,IAAIA,KAAK,IAAIhE,KAAK,CAACgF,KAAK,EAAE;IACzCN,MAAM,GAAGA,MAAM,GAAG,SAAS;IAC3BA,MAAM,GAAGwB,kBAAkB,CAACjG,MAAM,CAACgF,MAAM,CAACjB,KAAK,CAAC,EAAEU,MAAM,CAAC;;EAG3D,IAAI7E,IAAI,CAACqF,MAAM,CAACf,KAAK,CAAC,EAAE;IACtBO,MAAM,GAAGA,MAAM,GAAG,GAAG;IAErB,IAAIS,KAAK,GAAG,IAAI;IAChB,KAAK,MAAMC,IAAI,IAAIjB,KAAK,EAAE;MACxB,IAAIgB,KAAK,EAAE;QACTA,KAAK,GAAG,KAAK;OACd,MAAM;QACLT,MAAM,GAAGA,MAAM,GAAG,GAAG;;MAEvBA,MAAM,GAAGA,MAAM,GAAcyB,mBAAmB,CAAC/B,SAAS,CAAC,CAApCgB,IAAI,CAAiC;;;EAIhE,IAAsBzF,OAAO,CAAC2F,IAAI,CAAzBvB,WAAW,IAAkB,CAAC,EAAE;IACvCW,MAAM,GAAGA,MAAM,GAAG,GAAG;IAErB,IAAIS,KAAK,GAAG,IAAI;IAChB,KAAK,MAAM,CAAC/D,GAAG,EAAEkC,KAAK,CAAC,IAAIS,WAAW,EAAE;MACtC,IAAIoB,KAAK,EAAE;QACTA,KAAK,GAAG,KAAK;OACd,MAAM;QACLT,MAAM,GAAGA,MAAM,GAAG,GAAG;;MAEvBA,MAAM,GAAGA,MAAM,GAAGa,aAAa,CAACnE,GAAG,CAAC;MACpCsD,MAAM,GAAGA,MAAM,GAAG,GAAG;MACrBA,MAAM,GAAGwB,kBAAkB,CAACV,MAAM,CAAClC,KAAK,CAAC,EAAEoB,MAAM,CAAC;;;EAItD,OAAOA,MAAM;AACf,CAAC,CACF;AAED;AAAA5C,OAAA,CAAAmE,YAAA,GAAAA,YAAA;AACA,MAAMV,aAAa,GAAInE,GAAW,IAAKA,GAAG,CAAC0E,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;AAElE;AACA,MAAMM,wBAAwB,GAAIP,GAAW,IAAKH,IAAI,CAACC,SAAS,CAACE,GAAG,CAAC;AAErE;AACA,MAAMK,kBAAkB,GAAGA,CAAC1B,KAAa,EAAEE,MAAc,KACvDA,MAAM,IAAIF,KAAK,CAACwB,KAAK,CAACD,QAAQ,CAAC,GAAGvB,KAAK,GAAG4B,wBAAwB,CAAC5B,KAAK,CAAC,CAAC;AAE5E;AACA,MAAM2B,mBAAmB,GAAIE,GAAW,IACrC3D,IAAqB,IAAY;EAChC,MAAM8B,KAAK,GAAGe,aAAa,CAAC7C,IAAI,CAAC8B,KAAK,CAAC;EACvC,OAAO,GAAGA,KAAK,IAAI6B,GAAG,GAAG3D,IAAI,CAAC4D,SAAS,IAAI;AAC7C,CAAC"}