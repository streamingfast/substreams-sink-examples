{"version":3,"file":"Context.js","names":["Equal","_interopRequireWildcard","require","_Function","G","Hash","_Effect","option","_Pipeable","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","TagTypeId","Symbol","for","exports","TagImpl","_a","EffectTypeId","symbol","that","random","_S","_","_I","constructor","identifier","_tag","i0","undefined","i1","i2","effectVariance","limit","Error","stackTraceLimit","creationError","globalValue","stack","toString","JSON","stringify","toJSON","pipe","pipeArguments","arguments","of","self","context","make","ContextTypeId","ContextImpl","isContext","unsafeMap","size","k","keys","equals","number","_id","serviceNotFoundError","tag","error","String","lines","split","length","afterAt","match","message","splice","join","u","isTag","empty","Map","service","add","dual","map","unsafeGet","getOption","none","some","merge","s","pick","tags","tagSet","Set","newEnv","entries","omit","delete"],"sources":["../src/internal/Context.ts"],"sourcesContent":[null],"mappings":"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"}