{"version":3,"file":"Context.mjs","names":["Equal","dual","G","Hash","EffectTypeId","effectVariance","option","pipeArguments","TagTypeId","Symbol","for","TagImpl","_a","symbol","that","random","_S","_","_I","constructor","identifier","_tag","i0","undefined","i1","i2","limit","Error","stackTraceLimit","creationError","globalValue","stack","toString","JSON","stringify","toJSON","pipe","arguments","of","self","context","make","ContextTypeId","ContextImpl","isContext","unsafeMap","size","k","keys","has","equals","get","number","_id","serviceNotFoundError","tag","error","String","lines","split","length","afterAt","match","message","splice","join","u","isTag","empty","Map","service","add","map","set","unsafeGet","getOption","none","some","merge","s","pick","tags","tagSet","Set","newEnv","entries","omit","delete"],"sources":["../../src/internal/Context.ts"],"sourcesContent":[null],"mappings":"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"}