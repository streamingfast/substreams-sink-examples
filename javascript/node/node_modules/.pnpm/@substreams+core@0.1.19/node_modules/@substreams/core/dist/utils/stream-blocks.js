import { Stream } from "../proto.js";
import { createStateTracker } from "./create-state-tracker.js";
import { createPromiseClient } from "@bufbuild/connect";
export async function* streamBlocks(transport, request, options) {
    const progress = createStateTracker();
    const client = createPromiseClient(Stream, transport);
    for await (const response of client.blocks(request, options)) {
        yield {
            progress: progress(response),
            response,
        };
    }
}
//# sourceMappingURL=stream-blocks.js.map