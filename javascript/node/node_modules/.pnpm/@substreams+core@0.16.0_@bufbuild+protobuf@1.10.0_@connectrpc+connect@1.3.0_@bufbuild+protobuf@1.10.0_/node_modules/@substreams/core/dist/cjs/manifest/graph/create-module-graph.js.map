{"version":3,"file":"create-module-graph.js","names":["_getModule","require","_assertAcyclic","_shortestPaths","_topologicalSort","INITIAL_BLOCK_UNSET","exports","BigInt","ModuleGraph","modules","nodes","distances","Map","sorted","constructor","createModuleNodes","getModule","nameOrModule","getModuleOrThrow","shortesPaths","module","get","undefined","shortestPaths","topologicalSort","set","node","merged","Set","single","map","add","ancestorsOf","Array","from","filter","distance","parentsOf","childrenOf","sortedByGraphTopology","children","current","startBlockFor","initialBlock","ancestors","block","reduce","carry","existing","Error","name","adjacents","input","inputs","case","incoming","value","moduleName","assertAcyclic","createModuleGraph"],"sources":["../../../../src/manifest/graph/create-module-graph.ts"],"sourcesContent":[null],"mappings":"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"}