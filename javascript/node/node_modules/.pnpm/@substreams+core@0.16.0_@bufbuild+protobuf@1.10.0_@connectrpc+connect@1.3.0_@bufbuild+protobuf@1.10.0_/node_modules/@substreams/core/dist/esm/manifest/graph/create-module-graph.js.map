{"version":3,"file":"create-module-graph.js","names":["getModuleOrThrow","assertAcyclic","shortestPaths","topologicalSort","INITIAL_BLOCK_UNSET","BigInt","ModuleGraph","modules","nodes","distances","Map","sorted","constructor","createModuleNodes","getModule","nameOrModule","shortesPaths","module","get","undefined","set","node","merged","Set","single","map","add","ancestorsOf","Array","from","filter","distance","parentsOf","childrenOf","sortedByGraphTopology","children","current","startBlockFor","initialBlock","ancestors","block","reduce","carry","existing","Error","name","adjacents","input","inputs","case","incoming","value","moduleName","createModuleGraph"],"sources":["../../../../src/manifest/graph/create-module-graph.ts"],"sourcesContent":[null],"mappings":"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"}